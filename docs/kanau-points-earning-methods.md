# カナウポイント（Kp）獲得方法 整理まとめ

## 📊 現在の実装状況

### ✅ **実装済み**

#### 1. ログインボーナス
- **基本報酬**: 1Kp/日
- **連続ボーナス**: 連続ログイン日数に応じて追加（最大100Kp/日）
- **合計**: 基本1Kp + 連続ボーナス（最大100Kp）= 最大101Kp/日
- **実装場所**: `lib/kanau-points-supabase.ts` / `components/kanau-points-display.tsx`
- **ステータス**: ✅ 完全実装済み

#### 2. デバッグモード付与（開発用のみ）
- **用途**: 開発・テスト用
- **付与額**: +5Kp / +50Kp / +500Kp
- **表示条件**: `NODE_ENV !== "production"` の場合のみ
- **実装場所**: `components/kanau-points-display.tsx`
- **ステータス**: ✅ 実装済み（本番環境では非表示）

---

### 🚧 **仕様書に記載あり・未実装**

#### 3. ランキング報酬（四季ランキング）
- **1位**: 500Kp + 称号「叶龍王」
- **2位**: 300Kp + 称号「名魂覇者」
- **3位**: 200Kp + 称号「名龍将」
- **4-10位**: 150Kp〜40Kp + 称号
- **11-100位**: 10-30Kp + 称号「叶の挑戦者」
- **実装場所**: 未実装
- **ステータス**: 🚧 仕様書あり（`docs/kanau-ranking-system-spec.md`）

#### 4. 年間ランキング報酬（大晦日イベント）
- **1位**: 10,000Kp + 称号「叶龍王2025」
- **2位**: 3,000Kp + 称号「響命王」
- **3位**: 1,000Kp + 称号「名導士」
- **実装場所**: 未実装
- **ステータス**: 🚧 仕様書あり（`docs/kanau-ranking-system-spec.md`）

#### 5. Stripe決済での購入（叶力の授与の儀）
- **プラン1**: ¥480 → 1,000Kp（祈願の灯）
- **プラン2**: ¥1,200 → 3,000Kp（龍徳の風）
- **プラン3**: ¥3,800 → 10,000Kp（宝珠の加護）
- **プラン4**: ¥14,800 → 50,000Kp（叶龍の契約）
- **プラン5**: ¥29,800 → 100,000Kp（黄金の名魂）
- **実装場所**: 未実装
- **ステータス**: 🚧 仕様書あり（`docs/kanau-economy-system-overview.md`）

---

## 📈 月間獲得見込み（現状・実装済みのみ）

### ログインボーナスのみ
- **1日目**: 1Kp
- **2日目**: 2Kp
- **3日目**: 3Kp
- **...連続ログインが継続する場合...**
- **30日目**: 31Kp（連続30日目の場合）
- **月間合計（連続30日）**: 約465Kp（1+2+3+...+30）

### 最大値（連続100日の場合）
- **100日目**: 101Kp
- **月間合計**: 最大約5,050Kp（基本1Kp + 連続ボーナス1〜100Kp）

---

## 🎯 優先実装候補（未実装項目）

### 高優先度
1. **ランキング報酬システム**
   - ユーザーエンゲージメント向上
   - Kp消費のインセンティブ
   - **実装工数**: 中（報酬配布ロジック + UI）

### 中優先度
2. **Stripe決済でのKp購入**
   - メイン収益源
   - **実装工数**: 大（Stripe統合 + 決済処理 + UI）

### 低優先度
3. **年間ランキング報酬**
   - 大晦日イベントとして特別感
   - **実装工数**: 中（集計処理 + アニメーション）

---

## 📝 実装済み機能の詳細

### ログインボーナスの仕様詳細
- **計算式**: `合計Kp = 基本1Kp + min(連続日数 - 1, 100)Kp`
- **連続ログイン判定**: 前日と同じ日付でログインした場合、連続としてカウント
- **リセット条件**: 連続ログインが途切れた場合（前日ログインしていない）、1日目から再開
- **特別報酬**: 5,10,14,21,30,50,100日目に特別アイテム獲得（実装済み）

---

## 💡 今後の拡張アイデア（未実装・検討段階）

1. **デイリーミッション**
   - 姓名判断実行: 5Kp
   - 記事閲覧: 3Kp
   - 結果シェア: 10Kp
2. **友達招待ボーナス**
   - 招待者: 100Kp
   - 被招待者: 50Kp
3. **SNS連携ボーナス**
   - 結果シェア: 20Kp
   - Twitterフォロー: 30Kp

---

## 🔧 実装ファイル一覧

### 実装済み
- `lib/kanau-points-supabase.ts` - ポイント管理コア
- `lib/kanau-points-system.ts` - ローカル用マネージャー
- `components/kanau-points-display.tsx` - 表示UI
- `lib/ranking-repo.ts` - ランキング登録処理（ポイント消費）

### 未実装（参照）
- `docs/kanau-ranking-system-spec.md` - ランキング報酬仕様
- `docs/kanau-economy-system-overview.md` - 決済システム仕様

---

*最終更新: 2025年1月*
*次回実装予定: ランキング報酬システム*

